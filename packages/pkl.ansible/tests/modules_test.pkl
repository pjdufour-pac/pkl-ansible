// =================================================================
//
// Work of the U.S. Department of the Navy, NIWC Pacific.
// Released as open source under the MIT License.  See LICENSE file.
//
// =================================================================
module pkl.ansible.tests.modules_test

amends "pkl:test"

import "../modules.pkl" as modules

examples {
  ["apt"] {
    new modules.Apt {
        name = "jq"
        state = "latest"
        update_cache = false
    }
    new modules.AptKey {
        url = "https://www.mongodb.org/static/pgp/server-7.0.asc"
    }
    new modules.AptRepository {
        repo = "ppa:ansible/ansible"
        install_python_apt = false
        update_cache = true
    }
  }

  ["rpm"] {
    new modules.RpmPackage {
        name = "firewalld"
        url = "centos/8-stream/BaseOS/x86_64/os/Packages/firewalld-0.9.11-4.el8.noarch.rpm"
        checksum = "sha256:d8d0ec11aa614a1eff1522524de246c0600f738f849762f0a70552e9e90466a7"
    }
    new modules.RpmKey {
        name = "docker"
        filename = "docker.asc"
        url = "linux/centos/gpg"
        checksum = "sha256:e6c650e0700b1bf4868b693b30761b926844befc8a0acb7ac0dd9b1faf1b7423"
    }
  }
  ["yum"] {
    new modules.Yum {
        name = "yum"
        state = "latest"
    }
  }
}